(()=>{"use strict";var e,t=document.querySelector(".toggle-options"),n=!0,o=document.querySelector(".tools"),l=document.querySelector(".pencil"),c=document.querySelector(".pencil-tools"),s={value:!1},i=document.querySelector(".marker"),r=document.querySelector(".marker-tools"),u={value:!1},a=document.querySelector(".eraser"),d=document.querySelector(".eraser-tools"),y={value:!1},v=document.querySelector(".stickynote"),m=document.querySelector(".stickynote-tools"),p={value:!1},f=document.querySelector(".upload"),L=document.querySelector(".shapes"),E=document.querySelector(".shapes-tools"),g={value:!1},q=document.querySelector(".text"),S=document.querySelector(".text-tools"),b={value:!1},k=document.querySelector(".canvas-bgcolor"),h=document.querySelector(".canvas-bgcolor-tools"),x={value:!1},z={left:0,top:0};function A(e,t,n,o,l){P(),t.forEach((function(e,n){return t[n].value=!1})),e?(X(),document.body.classList.add(l),o.style.display="flex"):o.style.display="none"}function X(){c.style.display="none",r.style.display="none",d.style.display="none",S.style.display="none",E.style.display="none",m.style.display="none",h.style.display="none"}function Y(e,t,n){e.addEventListener("click",(function(e){var t=n.querySelector(".body-note");"none"===t.style.display?t.style.display="block":(t.style.display="none",t.parentElement.style.resize="none")})),t.addEventListener("click",(function(e){n.remove()}))}function C(t){(e=R(t.target)).style.setProperty("position","absolute"),z.left=t.clientX,z.top=t.clientY,document.addEventListener("mousemove",M)}function M(t){if(e){var n=e.offsetLeft+t.clientX-z.left,o=e.offsetTop+t.clientY-z.top;e.style.left="".concat(n,"px"),e.style.top="".concat(o,"px"),z.left=t.clientX,z.top=t.clientY}}function R(e){return e.classList.contains("sticky-note-image")?e:R(e.parentElement)}function w(){document.removeEventListener("mousemove",M),e=null}t.addEventListener("click",(function(e){var l,c;(n=!n)?((c=t.children[0]).src="./icons/tools/close.png",c.title="Close Menu",o.style.display="flex"):((l=t.children[0]).src="./icons/tools/menu.png",l.title="Open Menu",o.style.display="none",X())})),l.addEventListener("click",(function(e){s.value=!s.value,A(s.value,[u,y,g,b,x],0,c,"cursor-pencil")})),i.addEventListener("click",(function(e){u.value=!u.value,A(u.value,[s,y,g,b,x],0,r,"cursor-marker")})),a.addEventListener("click",(function(e){y.value=!y.value,A(y.value,[s,u,g,b,x],0,d,"cursor-eraser")})),L.addEventListener("click",(function(e){g.value=!g.value,A(g.value,[s,u,y,b,x],0,E,"cursor-auto")})),q.addEventListener("click",(function(e){b.value=!b.value,A(b.value,[u,y,g,s,x],0,S,"cursor-auto")})),k.addEventListener("click",(function(e){x.value=!x.value,A(x.value,[s,u,y,b,g],0,h,"cursor-auto")})),v.addEventListener("click",(function(e){P(),T(),p.value=!p.value,p.value?(c.style.display="none",r.style.display="none",d.style.display="none",S.style.display="none",h.style.display="none",E.style.display="none",m.style.display="flex",m.style.flexDirection="column"):m.style.display="none",m.querySelectorAll(".notes-color").forEach((function(e){e.addEventListener("click",(function(t){var n=document.createElement("div");n.classList.add("sticky-note"),n.innerHTML='\n      <div class="header-note">\n        <div class="minimize-note"></div>\n        <div class="remove-note"></div>\n      </div>\n      <div class="body-note">\n        <div class="'.concat(e.classList[0],' input-note" contenteditable="true"></div>\n      </div>'),document.body.appendChild(n),Y(n.querySelector(".minimize-note"),n.querySelector(".remove-note"),n),n.onmousedown=function(e){!function(e,t){var n=t.clientX-e.getBoundingClientRect().left,o=t.clientY-e.getBoundingClientRect().top;function l(t,l){e.style.left=t-n+"px",e.style.top=l-o+"px"}function c(e){l(e.pageX,e.pageY)}e.style.position="absolute",e.style.zIndex=1e3,l(t.pageX,t.pageY),document.addEventListener("mousemove",c),e.onmouseup=function(){document.removeEventListener("mousemove",c),e.onmouseup=null}}(n,e)},n.ondragstart=function(){return!1}}))}))})),f.addEventListener("click",(function(e){P(),T();var t=document.createElement("input");t.setAttribute("type","file"),t.click(),t.addEventListener("change",(function(e){var n=t.files[0],o=URL.createObjectURL(n),l=document.createElement("div");l.classList.add("sticky-note-image"),l.setAttribute("data-resizable","true"),l.setAttribute("data-draggable","true"),l.innerHTML='\n      <div class="header-note drag-handle" data-drag-handle="true">\n        <div class="minimize-note"></div>\n        <div class="remove-note"></div>\n      </div>\n      <div class="body-note">\n          <img src="'.concat(o,'" class="upload-img-note" />\n      </div>'),document.body.appendChild(l),Y(l.querySelector(".minimize-note"),l.querySelector(".remove-note"),l),document.querySelectorAll("[data-resizable]").forEach((function(e){e.style.setProperty("resize","both"),e.style.setProperty("overflow","hidden")})),document.querySelectorAll(".sticky-note-image").forEach((function(e){e.addEventListener("mousedown",C),e.addEventListener("mouseup",w),e.addEventListener("mouseout",w)}))}))}));var P=function(){document.body.classList.remove("cursor-pencil"),document.body.classList.remove("cursor-eraser"),document.body.classList.remove("cursor-marker")};function T(){document.body.classList.add("cursor-auto")}})();