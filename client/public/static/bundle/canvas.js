(()=>{"use strict";var e={623:(e,t,n)=>{n.d(t,{Ak:()=>U,UE:()=>f,iy:()=>v,vI:()=>q,xw:()=>u});var o,l=document.querySelector(".toggle-options"),r=!0,c=document.querySelector(".tools"),i=document.querySelector(".pencil"),a=document.querySelector(".pencil-tools"),u={value:!1},s=document.querySelector(".marker"),d=document.querySelector(".marker-tools"),v={value:!1},y=document.querySelector(".eraser"),m=document.querySelector(".eraser-tools"),f={value:!1},p=document.querySelector(".stickynote"),h=document.querySelector(".stickynote-tools"),k={value:!1},g=document.querySelector(".upload"),E=document.querySelector(".shapes"),b=document.querySelector(".shapes-tools"),L={value:!1},S=document.querySelector(".text"),w=document.querySelector(".text-tools"),q={value:!1},x=document.querySelector(".canvas-bgcolor"),A=document.querySelector(".canvas-bgcolor-tools"),C={value:!1},I={left:0,top:0};function T(e,t,n,o,l){U(),t.forEach((function(e,n){return t[n].value=!1})),e?(P(),document.body.classList.add(l),o.style.display="flex"):o.style.display="none"}function P(){a.style.display="none",d.style.display="none",m.style.display="none",w.style.display="none",b.style.display="none",h.style.display="none",A.style.display="none"}function R(e,t,n){null==e||e.addEventListener("click",(function(e){if(n){var t=n.querySelector(".body-note");if(t)if("none"===t.style.display)t.style.display="block";else{t.style.display="none";var o=t.parentElement;o&&(o.style.resize="none")}}})),null==t||t.addEventListener("click",(function(e){n&&n.remove()}))}function X(e){if(o){var t=o.offsetLeft+e.clientX-I.left,n=o.offsetTop+e.clientY-I.top;o.style.left="".concat(t,"px"),o.style.top="".concat(n,"px"),I.left=e.clientX,I.top=e.clientY}}function Y(e){return(null==e?void 0:e.classList.contains("sticky-note-image"))?e:Y(e.parentElement)}function z(){document.removeEventListener("mousemove",X),o=null}null==l||l.addEventListener("click",(function(e){var t,n;(r=!r)?((n=null==l?void 0:l.children[0]).src="./icons/tools/close.png",n.title="Close Menu",c.style.display="flex"):((t=null==l?void 0:l.children[0]).src="./icons/tools/menu.png",t.title="Open Menu",c.style.display="none",P())})),null==i||i.addEventListener("click",(function(e){u.value=!u.value,T(u.value,[v,f,L,q,C],0,a,"cursor-pencil")})),null==s||s.addEventListener("click",(function(e){v.value=!v.value,T(v.value,[u,f,L,q,C],0,d,"cursor-marker")})),null==y||y.addEventListener("click",(function(e){f.value=!f.value,T(f.value,[u,v,L,q,C],0,m,"cursor-eraser")})),null==E||E.addEventListener("click",(function(e){L.value=!L.value,T(L.value,[u,v,f,q,C],0,b,"cursor-auto")})),null==S||S.addEventListener("click",(function(e){q.value=!q.value,T(q.value,[v,f,L,u,C],0,w,"cursor-auto")})),null==x||x.addEventListener("click",(function(e){C.value=!C.value,T(C.value,[u,v,f,q,L],0,A,"cursor-auto")})),null==p||p.addEventListener("click",(function(e){U(),M(),k.value=!k.value,k.value?(a.style.display="none",d.style.display="none",m.style.display="none",w.style.display="none",A.style.display="none",b.style.display="none",h.style.display="flex",h.style.flexDirection="column"):h.style.display="none",h.querySelectorAll(".notes-color").forEach((function(e){e.addEventListener("click",(function(t){var n=document.createElement("div");n.classList.add("sticky-note"),n.innerHTML='\n      <div class="header-note">\n        <div class="minimize-note"></div>\n        <div class="remove-note"></div>\n      </div>\n      <div class="body-note">\n        <div class="'.concat(e.classList[0],' input-note" contenteditable="true"></div>\n      </div>'),document.body.appendChild(n),R(n.querySelector(".minimize-note"),n.querySelector(".remove-note"),n),n.onmousedown=function(e){!function(e,t){var n=t.clientX-e.getBoundingClientRect().left,o=t.clientY-e.getBoundingClientRect().top;function l(t,l){e.style.left=t-n+"px",e.style.top=l-o+"px"}function r(e){l(e.pageX,e.pageY)}e.style.position="absolute",e.style.zIndex="1000",l(t.pageX,t.pageY),document.addEventListener("mousemove",r),e.onmouseup=function(){document.removeEventListener("mousemove",r),e.onmouseup=null}}(n,e)},n.ondragstart=function(){return!1}}))}))})),null==g||g.addEventListener("click",(function(e){U(),M();var t=document.createElement("input");t.setAttribute("type","file"),t.click(),t.addEventListener("change",(function(e){if(t.files&&t.files.length>0){var n=t.files[0],o=URL.createObjectURL(n),l=document.createElement("div");l.classList.add("sticky-note-image"),l.setAttribute("data-resizable","true"),l.setAttribute("data-draggable","true"),l.innerHTML='\n      <div class="header-note drag-handle" data-drag-handle="true">\n        <div class="minimize-note"></div>\n        <div class="remove-note"></div>\n      </div>\n      <div class="body-note">\n          <img src="'.concat(o,'" class="upload-img-note" />\n      </div>'),document.body.appendChild(l),R(l.querySelector(".minimize-note"),l.querySelector(".remove-note"),l),document.querySelectorAll("[data-resizable]").forEach((function(e){e instanceof HTMLElement&&(e.style.setProperty("resize","both"),e.style.setProperty("overflow","hidden"))})),document.querySelectorAll(".sticky-note-image").forEach((function(e){e.addEventListener("mousedown",(function(e){return function(e){var t=e,n=Y(t.target);n&&(n.style.setProperty("position","absolute"),I.left=t.clientX,I.top=t.clientY,document.addEventListener("mousemove",X))}(e)})),e.addEventListener("mouseup",z),e.addEventListener("mouseout",z)}))}else alert("No file selected.")}))}));var U=function(){document.body.classList.remove("cursor-pencil"),document.body.classList.remove("cursor-eraser"),document.body.classList.remove("cursor-marker")};function M(){document.body.classList.add("cursor-auto")}}},t={};function n(o){var l=t[o];if(void 0!==l)return l.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(623),t=document.querySelector("canvas");t.width=window.innerWidth,t.height=window.innerHeight;var o=t.getContext("2d"),l=document.querySelectorAll(".pencil-color"),r=document.querySelector(".pencil-width-input"),c=document.querySelectorAll(".pencil-edge"),i=document.querySelectorAll(".pencil-pattern"),a=document.querySelectorAll(".marker-color"),u=document.querySelector(".marker-width-input"),s=document.querySelectorAll(".marker-pattern"),d=document.querySelector(".eraser"),v=document.querySelector(".eraser-width"),y=document.querySelectorAll(".shape"),m=document.querySelectorAll(".text-size"),f=document.querySelectorAll(".text-family"),p=document.querySelectorAll(".canvas-color"),h=document.querySelector(".download"),k=document.querySelector(".redo"),g=document.querySelector(".undo"),E=document.querySelector(".reset"),b=!1,L=!1,S=!1,w="#1e1e1e",q="#afafaf",x="square",A="#fff",C=+r.value,I=+u.value,T=+v.value;o.strokeStyle=w,o.lineWidth=C,o.lineCap=x;var P,R,X=[],Y=0,z="",U=!1,M=0,O=0,W=20,D="normal",j="#000000",B=!1;function H(e){o.beginPath(),o.moveTo(e.x,e.y)}function N(e){o.strokeStyle=e.color?e.color:"#1e1e1e",o.lineWidth=e.width?e.width:16,o.globalCompositeOperation=e.composite?e.composite:"source-over",o.lineTo(e.x,e.y),o.stroke()}console.log({textSize:W}),null==t||t.addEventListener("mousedown",(function(t){e.xw.value?(b=!0,H({x:t.clientX,y:t.clientY})):e.iy.value?(L=!0,H({x:t.clientX,y:t.clientY})):e.UE.value?(S=!0,H({x:t.clientX,y:t.clientY}),o.globalCompositeOperation="destination-out"):""!==z&&(U=!0,M=t.clientX,O=t.clientY)})),null==t||t.addEventListener("mousemove",(function(n){b&&e.xw.value||S?N({color:e.UE.value?A:w,width:e.UE.value?T:C,x:n.clientX,y:n.clientY,composite:e.UE.value?"destination-out":"source-over"}):L&&e.iy.value||S?N({color:e.UE.value?A:q,width:e.UE.value?T:I,x:n.clientX,y:n.clientY,composite:e.UE.value?"destination-out":"source-over"}):""!==z&&U&&function(e){switch(o.strokeStyle="#1e1e1e",o.lineWidth=3,z){case"square":var n=e.x-M,l=e.y-O;o.clearRect(0,0,t.width,t.height),F(),o.beginPath(),o.rect(M,O,n,l),o.stroke();break;case"circle":var r=Math.sqrt(Math.pow(e.x-M,2)+Math.pow(e.y-O,2));o.clearRect(0,0,t.width,t.height),F(),o.beginPath(),o.arc(M,O,r,0,2*Math.PI),o.stroke();break;case"diamond":var c=Math.abs(e.x-M),i=Math.abs(e.y-O);o.clearRect(0,0,c,i),F(),o.beginPath(),o.moveTo(M,O-i/2),o.lineTo(M+c/2,O),o.lineTo(M,O+i/2),o.lineTo(M-c/2,O),o.closePath(),o.stroke();break;case"rectangle":var a=e.x-M,u=e.y-O;o.clearRect(0,0,t.width,t.height),F(),o.beginPath(),o.rect(M,O,a,u),o.stroke();break;case"triangle":var s=e.x-M,d=e.y-O;o.clearRect(0,0,t.width,t.height),F(),o.beginPath(),o.moveTo(M,O),o.lineTo(M+s,O),o.lineTo(M+s/2,O+d),o.closePath(),o.stroke()}o.stroke()}({x:n.clientX,y:n.clientY})})),null==t||t.addEventListener("mouseup",(function(e){b=!1,L=!1,""!==z&&(z="",U=!1),(S=!1)||(o.globalCompositeOperation="source-over"),G()})),null==t||t.addEventListener("click",(function(t){if(e.vI.value){var n=document.createElement("textarea");n.style.position="absolute",n.style.left="".concat(t.clientX,"px"),n.style.top="".concat(t.clientY,"px"),n.style.fontSize="".concat(W,"px"),n.classList.add(D),n.style.color=j,n.style.border="1px solid black",n.style.outline="none",n.style.resize="both",n.style.overflow="hidden",n.style.background="transparent",n.style.zIndex="1000",n.addEventListener("mousedown",(function(e){B=!0,P=e.clientX-parseInt(n.style.left),R=e.clientY-parseInt(n.style.top)})),n.addEventListener("mousemove",(function(e){if(B)n.style.left="".concat(e.clientX-P,"px"),n.style.top="".concat(e.clientY-R,"px");else{var t=n.getBoundingClientRect(),o=e.clientX,l=e.clientY,r=l>=t.top&&l<=t.top+5,c=l<=t.bottom&&l>=t.bottom-5,i=o>=t.left&&o<=t.left+5,a=o<=t.right&&o>=t.right-5;n.style.cursor=r||c||i||a?"move":"default"}})),n.addEventListener("mouseup",(function(){B=!1})),n.addEventListener("keydown",(function(t){"Enter"===t.key&&(t.preventDefault(),o.fillText(n.value,parseInt(n.style.left),parseInt(n.style.top),Number(W)),document.body.removeChild(n),G(),e.vI.value=!1)})),n.addEventListener("keydown",(function(t){"Enter"===t.key?(t.preventDefault(),o.fillText(n.value,parseInt(n.style.left),parseInt(n.style.top)+Number(W)),document.body.removeChild(n),G(),e.vI.value=!1):"Delete"!==t.key&&"Backspace"!==t.key||(document.body.removeChild(n),e.vI.value=!1)})),document.body.appendChild(n),n.focus()}})),m.forEach((function(e){e.addEventListener("click",(function(){var t=e.getAttribute("title");W=t||"16"}))})),f.forEach((function(e){e.addEventListener("click",(function(){var t,n=null===(t=e.getAttribute("class"))||void 0===t?void 0:t.split(" ")[0];D=n||"normal"}))})),l.forEach((function(t){t.addEventListener("click",(function(){var n=window.getComputedStyle(t).getPropertyValue("background-color");e.vI.value?j=n:(w=n,o.strokeStyle=w)}))})),r.addEventListener("change",(function(e){var t=e.target;C=parseInt(t.value),o.lineWidth=C})),c.forEach((function(e){e.addEventListener("click",(function(t){var n,l;switch(null===(n=null==e?void 0:e.getAttribute("alt"))||void 0===n?void 0:n.split(" ")[0].toLowerCase()){case"butt":default:l="butt";break;case"round":l="round";break;case"square":l="square"}x=l,o.lineCap=l}))}));var V=[[],[15,10],[2,10]];function F(){t.width=t.width;for(var e=0;e<=Y;e++){var n=new Image;n.src=X[e],o.drawImage(n,0,0)}}function G(){var e=t.toDataURL();X.push(e),Y=X.length-1}function J(e){Y=e.track,X=e.undoRedoTracker;var n=new Image;n.src=X[Y],n.onload=function(e){o.clearRect(0,0,t.width,t.height),o.drawImage(n,0,0,t.width,t.height)}}i.forEach((function(e,t){e.addEventListener("click",(function(){var e=t;o.setLineDash(V[e])}))})),a.forEach((function(e){e.addEventListener("click",(function(){var t=window.getComputedStyle(e).getPropertyValue("background-color");q=t,o.strokeStyle=q}))})),u.addEventListener("change",(function(e){var t=e.target;I=parseInt(t.value),o.lineWidth=I})),s.forEach((function(e,t){e.addEventListener("click",(function(){var e=t;o.setLineDash(V[e])}))})),v.addEventListener("change",(function(e){var t=e.target;T=parseInt(t.value),o.lineWidth=T})),null==d||d.addEventListener("click",(function(t){e.UE.value?(o.globalCompositeOperation="destination-out",o.strokeStyle=A,o.lineWidth=T):(o.globalCompositeOperation="source-over",o.strokeStyle=w,o.lineWidth=C)})),p.forEach((function(e){e.addEventListener("click",(function(t){var n=window.getComputedStyle(e).getPropertyValue("background-color");document.body.style.backgroundColor=n}))})),y.forEach((function(e){e.addEventListener("click",(function(t){z=e.getAttribute("alt").toLowerCase()}))})),null==h||h.addEventListener("click",(function(n){(0,e.Ak)();var o=t.toDataURL(),l=document.createElement("a");l.href=o,l.download="doodle-board.jpg",l.click()})),g.addEventListener("click",(function(t){(0,e.Ak)(),Y>0&&J({track:--Y,undoRedoTracker:X})})),k.addEventListener("click",(function(t){(0,e.Ak)(),Y<X.length-1&&J({track:++Y,undoRedoTracker:X})})),null==E||E.addEventListener("click",(function(n){(0,e.Ak)(),1==confirm("This will clear the whole canvas. Are you sure?")&&o.clearRect(0,0,t.width,t.height)}))})()})();